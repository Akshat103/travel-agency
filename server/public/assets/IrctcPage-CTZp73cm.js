import{r as i,u,j as e,c as f,aa as b,W as y,X as E,Y as H,e as F}from"./index-B0QMeBYD.js";import{S as T}from"./Spinner-46QbVmNw.js";import{y as $,b as I,F as k}from"./lottie-DZbitXfs.js";import{A as B}from"./Anchor-Du4xaSiI.js";import{C as D}from"./CloseButton-Dy6XIiH9.js";const N=b("h4");N.displayName="DivStyledAsH4";const A=i.forwardRef(({className:r,bsPrefix:a,as:t=N,...s},n)=>(a=u(a,"alert-heading"),e.jsx(t,{ref:n,className:f(r,a),...s})));A.displayName="AlertHeading";const w=i.forwardRef(({className:r,bsPrefix:a,as:t=B,...s},n)=>(a=u(a,"alert-link"),e.jsx(t,{ref:n,className:f(r,a),...s})));w.displayName="AlertLink";const L=i.forwardRef((r,a)=>{const{bsPrefix:t,show:s=!0,closeLabel:n="Close alert",closeVariant:o,className:c,children:h,variant:l="primary",onClose:p,dismissible:x,transition:j=k,...C}=$(r,{show:"onClose"}),d=u(t,"alert"),S=I(R=>{p&&p(!1,R)}),m=j===!0?k:j,g=e.jsxs("div",{role:"alert",...m?void 0:C,ref:a,className:f(c,d,l&&`${d}-${l}`,x&&`${d}-dismissible`),children:[x&&e.jsx(D,{onClick:S,"aria-label":n,variant:o}),h]});return m?e.jsx(m,{unmountOnExit:!0,...C,ref:void 0,in:s,children:g}):s?g:null});L.displayName="Alert";const v=Object.assign(L,{Link:w,Heading:A}),Y=({clientId:r})=>{const[a,t]=i.useState(null),[s,n]=i.useState(!0),[o,c]=i.useState(null);return i.useEffect(()=>{(async()=>{try{const l=await F.get("/api/irctc/get-irctc");t(l.data.link)}catch{c("Failed to fetch the IRCTC link")}finally{n(!1)}})()},[r]),s?e.jsxs(y,{className:"text-center mt-5",children:[e.jsx(T,{animation:"border",variant:"primary"}),e.jsx("p",{children:"Loading..."})]}):o?e.jsx(y,{className:"mt-5",children:e.jsx(v,{variant:"danger",children:o})}):e.jsx(E,{children:e.jsx(H,{children:a?e.jsx("iframe",{src:a,title:"IRCTC Login",style:{width:"100%",height:"600px",border:"1px solid #ccc"},allowFullScreen:!0}):e.jsx(v,{variant:"warning",children:"Service not available"})})})};export{Y as default};
