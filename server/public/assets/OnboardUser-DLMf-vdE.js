import{r as g,j as e,W as C,X as s,Y as o,aj as i,E as b,e as j}from"./index-B0QMeBYD.js";import{u as I}from"./ClientRoutes-CpVm3sv9.js";import{m as r}from"./lottie-DZbitXfs.js";const S=()=>{const[a,h]=g.useState({name:"",email:"",mobile:"",agencyName:"",agencyAddress:"",imei:"",mac:"",state:"",city:"",panImage:null,aadharFront:null,shopProof:null,selfPhoto:null}),{payment:p}=I(),n=d=>{const{name:l,value:t}=d.target;h({...a,[l]:t})},c=d=>{const{name:l,files:t}=d.target;h({...a,[l]:t[0]})},y=async d=>{d.preventDefault();const l=new FormData;Object.keys(a).forEach(t=>{l.append(t,a[t])});try{const x=(await j.post("/api/irctc/onboard",l,{headers:{"Content-Type":"multipart/form-data"}})).data;if(x.success){const m=await j.get("/api/irctc/get-cost");let u;if(m.data.success)u=m.data.cost;else{toast.error(m.data.error);return}const f=`irctc_onboard_rcptid_${Math.floor(Math.random()*1e4)}`;p(u,f,"irctcOnboard")}else{toast.error(x.error);return}}catch(t){console.error("Error onboarding user:",t)}};return e.jsxs(C,{children:[e.jsx("div",{className:"row m-2",children:e.jsx("div",{className:"col-12 text-center",children:e.jsx("h3",{className:"fw-bold text-white p-4 rounded",style:{background:"#282a29",borderRadius:"10px",fontSize:"1.2rem"},children:"IRCTC User Onboarding"})})}),e.jsxs(r,{onSubmit:y,children:[e.jsxs(s,{children:[e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formName",children:[e.jsx(r.Label,{children:"Name"}),e.jsx(r.Control,{type:"text",name:"name",placeholder:"Enter your name",value:a.name,onChange:n,required:!0})]})}),e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formEmail",children:[e.jsx(r.Label,{children:"Email"}),e.jsx(r.Control,{type:"email",name:"email",placeholder:"Enter your email",value:a.email,onChange:n,required:!0})]})})]}),e.jsxs(s,{children:[e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formMobile",children:[e.jsx(r.Label,{children:"Mobile"}),e.jsx(r.Control,{type:"text",name:"mobile",placeholder:"Enter your mobile number",value:a.mobile,onChange:n,required:!0})]})}),e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formAgencyName",children:[e.jsx(r.Label,{children:"Agency Name"}),e.jsx(r.Control,{type:"text",name:"agencyName",placeholder:"Enter agency name",value:a.agencyName,onChange:n,required:!0})]})})]}),e.jsxs(s,{children:[e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formAgencyAddress",children:[e.jsx(r.Label,{children:"Agency Address"}),e.jsx(r.Control,{type:"text",name:"agencyAddress",placeholder:"Enter agency address",value:a.agencyAddress,onChange:n,required:!0})]})}),e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formImei",children:[e.jsx(r.Label,{children:"IMEI"}),e.jsx(r.Control,{type:"text",name:"imei",placeholder:"Enter IMEI number",value:a.imei,onChange:n,required:!0})]})})]}),e.jsxs(s,{children:[e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formMac",children:[e.jsx(r.Label,{children:"MAC Address"}),e.jsx(r.Control,{type:"text",name:"mac",placeholder:"Enter MAC address",value:a.mac,onChange:n,required:!0})]})}),e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formState",children:[e.jsx(r.Label,{children:"State"}),e.jsx(r.Control,{type:"text",name:"state",placeholder:"Enter your state",value:a.state,onChange:n,required:!0})]})})]}),e.jsx(s,{children:e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formCity",children:[e.jsx(r.Label,{children:"City"}),e.jsx(r.Control,{type:"text",name:"city",placeholder:"Enter your city",value:a.city,onChange:n,required:!0})]})})}),e.jsxs(s,{children:[e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formPanImage",children:[e.jsx(r.Label,{children:"PAN Image"}),e.jsx(i,{className:"text-primary"}),e.jsx(r.Control,{type:"file",name:"panImage",onChange:c,required:!0})]})}),e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formAadharFront",children:[e.jsx(r.Label,{children:"Aadhar Front"}),e.jsx(i,{className:"text-primary"}),e.jsx(r.Control,{type:"file",name:"aadharFront",onChange:c,required:!0})]})})]}),e.jsxs(s,{children:[e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formShopProof",children:[e.jsx(r.Label,{children:"Shop Proof"}),e.jsx(i,{className:"text-primary"}),e.jsx(r.Control,{type:"file",name:"shopProof",onChange:c,required:!0})]})}),e.jsx(o,{md:6,children:e.jsxs(r.Group,{controlId:"formSelfPhoto",children:[e.jsx(r.Label,{children:"Self Photo"}),e.jsx(i,{className:"text-primary"}),e.jsx(r.Control,{type:"file",name:"selfPhoto",onChange:c,required:!0})]})})]}),e.jsx(b,{variant:"primary",type:"submit",className:"mt-3",children:"Submit"})]})]})};export{S as default};
