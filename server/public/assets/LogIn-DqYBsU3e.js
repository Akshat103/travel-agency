import{r as v,b as w,j as e,am as f,an as y,L as c,F as d,ao as C,f as L,B as m,X as F,Y as x,Z as t,W as h}from"./index-GmU473Cc.js";import{n as s}from"./NotFound-BxfTCxuv.js";const E=()=>{const[r,g]=v.useState({emailOrMobile:"",password:""}),j=w(),i=n=>{const{name:l,value:o}=n.target;g(a=>({...a,[l]:o}))},p=async n=>{var l,o;n.preventDefault();try{const a=await L.post("/api/login",r,{withCredentials:!0}),{userType:b,irctc:N}=a.data;localStorage.setItem("userType",b),localStorage.setItem("irctc",N),m.success("Login successful!"),j("/")}catch(a){m.error(((o=(l=a.response)==null?void 0:l.data)==null?void 0:o.message)||"Login failed. Please check your credentials.")}},u=()=>{window.location.href="/api/auth/google"};return e.jsxs(s,{onSubmit:p,children:[e.jsxs(s.Group,{className:"mb-3",children:[e.jsxs(s.Label,{children:[e.jsx(f,{className:"me-2"}),"Email or Mobile"]}),e.jsx(s.Control,{type:"text",name:"emailOrMobile",value:r.emailOrMobile,onChange:i,required:!0,placeholder:"Enter email or mobile"})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsxs(s.Label,{children:[e.jsx(y,{className:"me-2"}),"Password"]}),e.jsx(s.Control,{type:"password",name:"password",value:r.password,onChange:i,required:!0,placeholder:"Enter password"})]}),e.jsx("div",{className:"text-end mb-3",children:e.jsx(c,{to:"/forgot-password",className:"text-decoration-none",children:"Forgot password?"})}),e.jsx(d,{variant:"primary",type:"submit",className:"w-100 mb-3",children:"Log in"}),e.jsxs(d,{variant:"outline-primary",type:"button",className:"w-100 mb-3",onClick:u,children:[e.jsx(C,{className:"me-2"}),"Continue with Google"]}),e.jsxs("p",{className:"text-center mb-0",children:["Don't have an account?"," ",e.jsx(c,{to:"/register",className:"text-decoration-none",children:"Register now"})]})]})},S=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"ball-effect",children:[e.jsx("div",{className:"ball b1"}),e.jsx("div",{className:"ball b2"}),e.jsx("div",{className:"ball b3"}),e.jsx("div",{className:"ball b4"}),e.jsx("div",{className:"ball b5"})]}),e.jsx(F,{fluid:!0,className:"py-5",children:e.jsx(x,{className:"justify-content-center align-items-center",children:e.jsx(t,{lg:8,xxl:7,className:"px-lg-5",children:e.jsx(h,{className:"overflow-hidden border-0 shadow-lg",children:e.jsxs(x,{className:"g-0",children:[e.jsxs(t,{lg:6,className:"d-none d-lg-block login-image-container",children:[e.jsx("div",{className:"login-image",children:e.jsx("div",{className:"overlay"})}),e.jsx("div",{className:"image-content p-4",children:e.jsx("h3",{className:"fw-bold mb-3",children:"Yara Holiday"})})]}),e.jsx(t,{lg:6,children:e.jsx(h.Body,{className:"p-4 p-lg-5",children:e.jsx(E,{})})})]})})})})})]});export{S as default};
